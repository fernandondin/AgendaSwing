
package proyecto2;

import java.awt.Color;
import java.io.IOException;
import java.util.TreeSet;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JDesktopPane;
import javax.swing.JFrame;
import javax.swing.JOptionPane;

/**
 *
 * @author Fernando Gerardo Flores Garc√≠a
 */
public class AgendaInterfaz extends javax.swing.JFrame{
    private boolean mueve;
    private boolean dimension;
    private ModeloLista ml;
    private TreeSet<Contacto> arbol;
    private Datos datos;
    private String busqueda;
    private boolean isOn;
    /**
     * Creates new form AgendaInterfaz
     */
    public AgendaInterfaz() {
        initComponents();
        editarContacto.setToolTipText("Editar");
        eliminarContacto.setToolTipText("Eliminar");
        botonBusqueda.setToolTipText("Buscar");
        buscar.setToolTipText("Buscar");
        agregar.setToolTipText("Agregar contacto");
        eliminarTodo.setToolTipText("Eliminar todo");
        contactos.setToolTipText("Mostrar todos los contactos");
        editar.setToolTipText("Editar");
        ml= new ModeloLista();
        jList1.setModel(ml);
        this.setLocationRelativeTo(null); 
        this.setResizable(false);
        busqueda="";
        datos=new Datos();
        try {
            arbol = (TreeSet<Contacto>)datos.lee("arbol");
        } catch (ClassNotFoundException ex) {
            arbol = new TreeSet<>();
        } catch (IOException ex) {
            arbol = new TreeSet<>();
        }
        for(Object c:arbol)
            ml.addContacto((Contacto)c);
            menuR();
            botonesR();
            colocaLabelsInformacion();
            labelInformacionR();
            dimensionaJList();
            dimensionMenu();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel4 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        slider = new javax.swing.JButton();
        barraBusqueda = new javax.swing.JTextField();
        botonBusqueda = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JSeparator();
        boton = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        contactos = new javax.swing.JButton();
        agregar = new javax.swing.JButton();
        editar = new javax.swing.JButton();
        buscar = new javax.swing.JButton();
        eliminarTodo = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jList1 = new javax.swing.JList<>();
        jPanel6 = new javax.swing.JPanel();
        panelNombre = new javax.swing.JPanel();
        nombre = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        panelCasa = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        casa = new javax.swing.JLabel();
        panelCelular = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        celular = new javax.swing.JLabel();
        panelCorreo = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        correo = new javax.swing.JLabel();
        eliminarContacto = new javax.swing.JButton();
        editarContacto = new javax.swing.JButton();

        jPanel5.setBackground(new java.awt.Color(88, 205, 170));

        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel1.setText("Nombre");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 481, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 57, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Agenda");
        setBackground(new java.awt.Color(123, 123, 123));

        jPanel1.setBackground(new java.awt.Color(86, 175, 191));

        slider.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/menu.png"))); // NOI18N
        slider.setBorder(null);
        slider.setBorderPainted(false);
        slider.setContentAreaFilled(false);
        slider.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        slider.setFocusPainted(false);
        slider.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/menu_1.png"))); // NOI18N
        slider.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                sliderMouseClicked(evt);
            }
        });

        barraBusqueda.setBackground(new java.awt.Color(86, 175, 191));
        barraBusqueda.setFont(new java.awt.Font("Montserrat Alternates", 2, 16)); // NOI18N
        barraBusqueda.setHorizontalAlignment(javax.swing.JTextField.LEFT);
        barraBusqueda.setText("Buscar");
        barraBusqueda.setBorder(null);
        barraBusqueda.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                barraBusquedaFocusLost(evt);
            }
        });
        barraBusqueda.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                barraBusquedaMouseClicked(evt);
            }
        });
        barraBusqueda.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                barraBusquedaKeyTyped(evt);
            }
            public void keyPressed(java.awt.event.KeyEvent evt) {
                barraBusquedaKeyPressed(evt);
            }
        });

        botonBusqueda.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/buscar.png"))); // NOI18N
        botonBusqueda.setBorderPainted(false);
        botonBusqueda.setContentAreaFilled(false);
        botonBusqueda.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        botonBusqueda.setFocusPainted(false);
        botonBusqueda.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/buscar_1.png"))); // NOI18N
        botonBusqueda.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                botonBusquedaMouseClicked(evt);
            }
        });

        jSeparator1.setBackground(new java.awt.Color(209, 1, 1));

        boton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/boton1.png"))); // NOI18N
        boton.setBorderPainted(false);
        boton.setContentAreaFilled(false);
        boton.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        boton.setFocusPainted(false);
        boton.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                botonMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(slider, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(boton)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(botonBusqueda)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(barraBusqueda, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(64, 64, 64))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(boton, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                    .addComponent(botonBusqueda, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                    .addComponent(slider, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(barraBusqueda, javax.swing.GroupLayout.Alignment.TRAILING))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 6, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jPanel2.setBackground(new java.awt.Color(202, 191, 212));
        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        contactos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/contacto.png"))); // NOI18N
        contactos.setText("Contactos");
        contactos.setBorderPainted(false);
        contactos.setContentAreaFilled(false);
        contactos.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        contactos.setFocusPainted(false);
        contactos.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        contactos.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/contacto_1.png"))); // NOI18N
        contactos.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/contacto_1.png"))); // NOI18N
        contactos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                contactosMouseClicked(evt);
            }
        });
        contactos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                contactosActionPerformed(evt);
            }
        });
        jPanel2.add(contactos, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 12, 148, 72));

        agregar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/agregar.png"))); // NOI18N
        agregar.setText("  Agregar");
        agregar.setBorder(null);
        agregar.setBorderPainted(false);
        agregar.setContentAreaFilled(false);
        agregar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        agregar.setFocusPainted(false);
        agregar.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/agregar_1.png"))); // NOI18N
        agregar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                agregarMouseClicked(evt);
            }
        });
        agregar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                agregarActionPerformed(evt);
            }
        });
        jPanel2.add(agregar, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 102, 129, 59));

        editar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/editar.png"))); // NOI18N
        editar.setText("  Editar");
        editar.setBorderPainted(false);
        editar.setContentAreaFilled(false);
        editar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        editar.setFocusPainted(false);
        editar.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/editar_1.png"))); // NOI18N
        editar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                editarMouseClicked(evt);
            }
        });
        jPanel2.add(editar, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 179, -1, 72));

        buscar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/buscar.png"))); // NOI18N
        buscar.setText("  Buscar ");
        buscar.setBorderPainted(false);
        buscar.setContentAreaFilled(false);
        buscar.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        buscar.setFocusPainted(false);
        buscar.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/buscar_1.png"))); // NOI18N
        buscar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                buscarMouseClicked(evt);
            }
        });
        jPanel2.add(buscar, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 263, -1, 72));

        eliminarTodo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/eliminar.png"))); // NOI18N
        eliminarTodo.setText("Eliminar Todo");
        eliminarTodo.setActionCommand("Todo");
        eliminarTodo.setBorderPainted(false);
        eliminarTodo.setContentAreaFilled(false);
        eliminarTodo.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        eliminarTodo.setFocusPainted(false);
        eliminarTodo.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/eliminar_1.png"))); // NOI18N
        eliminarTodo.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                eliminarTodoMouseClicked(evt);
            }
        });
        eliminarTodo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                eliminarTodoActionPerformed(evt);
            }
        });
        jPanel2.add(eliminarTodo, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 347, -1, 72));

        jScrollPane1.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        jScrollPane1.setDoubleBuffered(true);

        jList1.setBackground(new java.awt.Color(254, 254, 254));
        jList1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jList1MouseClicked(evt);
            }
        });
        jList1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                jList1KeyTyped(evt);
            }
        });
        jScrollPane1.setViewportView(jList1);

        panelNombre.setBackground(new java.awt.Color(88, 205, 170));

        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/contacto.png"))); // NOI18N

        javax.swing.GroupLayout panelNombreLayout = new javax.swing.GroupLayout(panelNombre);
        panelNombre.setLayout(panelNombreLayout);
        panelNombreLayout.setHorizontalGroup(
            panelNombreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelNombreLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(nombre, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        panelNombreLayout.setVerticalGroup(
            panelNombreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelNombreLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelNombreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3, javax.swing.GroupLayout.DEFAULT_SIZE, 36, Short.MAX_VALUE)
                    .addComponent(nombre, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        panelCasa.setBackground(new java.awt.Color(88, 205, 170));

        jLabel5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/home.png"))); // NOI18N

        javax.swing.GroupLayout panelCasaLayout = new javax.swing.GroupLayout(panelCasa);
        panelCasa.setLayout(panelCasaLayout);
        panelCasaLayout.setHorizontalGroup(
            panelCasaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCasaLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel5)
                .addGap(18, 18, 18)
                .addComponent(casa, javax.swing.GroupLayout.PREFERRED_SIZE, 212, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panelCasaLayout.setVerticalGroup(
            panelCasaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCasaLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelCasaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(casa, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(18, Short.MAX_VALUE))
        );

        panelCelular.setBackground(new java.awt.Color(88, 205, 170));

        jLabel6.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/phone.png"))); // NOI18N

        javax.swing.GroupLayout panelCelularLayout = new javax.swing.GroupLayout(panelCelular);
        panelCelular.setLayout(panelCelularLayout);
        panelCelularLayout.setHorizontalGroup(
            panelCelularLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCelularLayout.createSequentialGroup()
                .addGap(6, 6, 6)
                .addComponent(jLabel6)
                .addGap(18, 18, 18)
                .addComponent(celular, javax.swing.GroupLayout.PREFERRED_SIZE, 212, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(105, Short.MAX_VALUE))
        );
        panelCelularLayout.setVerticalGroup(
            panelCelularLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel6, javax.swing.GroupLayout.DEFAULT_SIZE, 55, Short.MAX_VALUE)
            .addGroup(panelCelularLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(celular, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        panelCorreo.setBackground(new java.awt.Color(88, 205, 170));

        jLabel8.setBackground(new java.awt.Color(246, 38, 5));
        jLabel8.setFont(new java.awt.Font("Montserrat Alternates", 3, 18)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(246, 38, 5));
        jLabel8.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/correo.png"))); // NOI18N

        javax.swing.GroupLayout panelCorreoLayout = new javax.swing.GroupLayout(panelCorreo);
        panelCorreo.setLayout(panelCorreoLayout);
        panelCorreoLayout.setHorizontalGroup(
            panelCorreoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCorreoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel8)
                .addGap(18, 18, 18)
                .addComponent(correo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        panelCorreoLayout.setVerticalGroup(
            panelCorreoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCorreoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelCorreoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(correo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(20, Short.MAX_VALUE))
        );

        eliminarContacto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/delete.png"))); // NOI18N
        eliminarContacto.setBorderPainted(false);
        eliminarContacto.setContentAreaFilled(false);
        eliminarContacto.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        eliminarContacto.setFocusPainted(false);
        eliminarContacto.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/delete_1.png"))); // NOI18N
        eliminarContacto.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                eliminarContactoMouseClicked(evt);
            }
        });

        editarContacto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/edit.png"))); // NOI18N
        editarContacto.setBorderPainted(false);
        editarContacto.setContentAreaFilled(false);
        editarContacto.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        editarContacto.setFocusPainted(false);
        editarContacto.setRolloverIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/edit_1.png"))); // NOI18N
        editarContacto.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                editarContactoMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(panelCorreo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(panelCelular, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(panelCasa, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(panelNombre, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addComponent(eliminarContacto, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(editarContacto, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(43, 43, 43))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(panelNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(panelCasa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(panelCelular, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(panelCorreo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(eliminarContacto, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(editarContacto, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(53, 53, 53))
        );

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 282, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane1)
            .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 459, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void sliderMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_sliderMouseClicked
        if(this.mueve){
            mueve=false;
            inicializaL();
            labelInformacionL();
        }else{
            this.mueve=true;
            menuR();
            botonesR();
            colocaLabelsInformacion();
            labelInformacionR();
            dimensionaJList();
            dimensionMenu();
        }
    }//GEN-LAST:event_sliderMouseClicked
    private void labelInformacionL(){
        Animacion u= new Animacion(jLabel3,210,jLabel3.getY(),10,Animacion.ANIMA_XL,5);
        u.anima();
        Animacion u1 = new Animacion(nombre,220,nombre.getY(),45,Animacion.ANIMA_XL,5);
        u1.anima();
        Animacion u2= new Animacion(jLabel5,210,jLabel5.getY(),10,Animacion.ANIMA_XL,6);
        u2.anima();
        Animacion u3 = new Animacion(casa,220,casa.getY(),45,Animacion.ANIMA_XL,6);
        u3.anima();
        Animacion u4= new Animacion(celular,210,celular.getY(),45,Animacion.ANIMA_XL,7);
        u4.anima();
        Animacion u6= new Animacion(jLabel6,220,jLabel6.getY(),10,Animacion.ANIMA_XL,7);
        u6.anima();
        Animacion u5 = new Animacion(correo,220,correo.getY(),45,Animacion.ANIMA_XL,8);
        u5.anima();        
        Animacion u7= new Animacion(jLabel8,210,jLabel8.getY(),10,Animacion.ANIMA_XL,8);
        u7.anima();
        Animacion u8= new Animacion(eliminarContacto,210,eliminarContacto.getY(),30,Animacion.ANIMA_XL,8);
        u8.anima();
    }
    private void labelInformacionR(){
        Animacion u= new Animacion(jLabel3,jLabel3.getX(),jLabel3.getY(),210,Animacion.ANIMA_XR,1);
        u.anima();
        Animacion u1 = new Animacion(nombre,nombre.getX(),nombre.getY(),220,Animacion.ANIMA_XR,1);
        u1.anima();
        Animacion u2= new Animacion(jLabel5,jLabel5.getX(),jLabel5.getY(),210,Animacion.ANIMA_XR,2);
        u2.anima();
        Animacion u3 = new Animacion(casa,casa.getX(),casa.getY(),220,Animacion.ANIMA_XR,2);
        u3.anima();
        Animacion u4= new Animacion(celular,celular.getX(),celular.getY(),210,Animacion.ANIMA_XR,3);
        u4.anima();
        Animacion u5 = new Animacion(correo,correo.getX(),correo.getY(),220,Animacion.ANIMA_XR,4);
        u5.anima();
        Animacion u6= new Animacion(jLabel6,jLabel6.getX(),jLabel6.getY(),220,Animacion.ANIMA_XR,3);
        u6.anima();
        Animacion u7= new Animacion(jLabel8,jLabel8.getX(),jLabel8.getY(),210,Animacion.ANIMA_XR,4);
        u7.anima();
        Animacion u8= new Animacion(eliminarContacto,eliminarContacto.getX(),eliminarContacto.getY(),210,Animacion.ANIMA_XR,4);
        u8.anima();
    }
    private void menuR(){
        Animacion up= new Animacion(jPanel2,-175,50,0,Animacion.ANIMA_XR,2);
        up.anima();
    }
    private void dimensionMenu(){
        Animacion u8 = new Animacion(jPanel2,0,jPanel2.getY(),160,Animacion.ANIMA_X1R,2);
        u8.anima();
    }
    private void botonesR(){
        Animacion u = new Animacion(contactos,-129,44,0,Animacion.ANIMA_XR,3);
        u.anima();
        Animacion u1 = new Animacion(agregar,-129,44,0,Animacion.ANIMA_XR,3);
        u1.anima();
        Animacion u3 = new Animacion(editar,-129,50,0,Animacion.ANIMA_XR,4);
        u3.anima();
        Animacion u4 = new Animacion(buscar,-129,50,0,Animacion.ANIMA_XR,5);
        u4.anima();
        Animacion u5 = new Animacion(eliminarTodo,-129,50,0,Animacion.ANIMA_XR,6);
        u5.anima();
    }
    private void dimensionaJList(){
        Animacion u8 = new Animacion(jScrollPane1,132,jScrollPane1.getY(),650,Animacion.ANIMA_X1R,2);
        u8.anima();
        Animacion u9 = new Animacion(jList1,132,jList1.getY(),650,Animacion.ANIMA_X1R,2);
        u9.anima();
    }
    private void dimensionaLabelsInformacion(){
        Animacion u6 = new Animacion(panelNombre,355,jPanel6.getHeight(),287,Animacion.ANIMA_X1R,2);
        u6.anima();
        Animacion u7 = new Animacion(jPanel3,667,jPanel3.getY(),845,Animacion.ANIMA_X1R,2);
        u7.anima();
        Animacion u8 = new Animacion(jPanel6,379,jPanel6.getY(),700,Animacion.ANIMA_X1R,2);
        u8.anima();
        Animacion u11 = new Animacion(jPanel6,jPanel6.getX(),jPanel6.getHeight(),jScrollPane1.getX()+280,Animacion.ANIMA_XL,2);
        u11.anima();
        Animacion u12 = new Animacion(panelCasa,355,panelCasa.getHeight(),287,Animacion.ANIMA_X1R,2);
        u12.anima();
        Animacion u13 = new Animacion(panelCelular,355,panelCelular.getHeight(),287,Animacion.ANIMA_X1R,2);
        u13.anima();
        Animacion u14 = new Animacion(panelCorreo,355,panelCorreo.getHeight(),287,Animacion.ANIMA_X1R,2);
        u14.anima();
    }
    private void colocaLabelsInformacion(){
        Animacion u6 = new Animacion(jPanel3,10,50,175,Animacion.ANIMA_XR,2);
        u6.anima();
        Animacion u7 = new Animacion(jPanel6,185,jPanel6.getY(),800,Animacion.ANIMA_XR,2);
        u7.anima();
    }
    private void jListL(){
        Animacion u9 = new Animacion(jScrollPane1,650,jScrollPane1.getY(),280,Animacion.ANIMA_X1L,2);
        u9.anima();
        Animacion u10 = new Animacion(jList1,650,jList1.getY(),280,Animacion.ANIMA_X1L,2);
        u10.anima();
    }
    private void contenedorL(){
        Animacion u5 = new Animacion(jPanel3,833,50,10,Animacion.ANIMA_XL,2);
        u5.anima();
    }
    private void botonesL(){
        Animacion u= new Animacion(contactos,129,50,-129,Animacion.ANIMA_XL,3);
        u.anima();
        Animacion u1 = new Animacion(agregar,129,50,-140,Animacion.ANIMA_XL,3);
        u1.anima();
        Animacion u2 = new Animacion(editar,129,50,-140,Animacion.ANIMA_XL,4);
        u2.anima();
        Animacion u3 = new Animacion(buscar,129,50,-140,Animacion.ANIMA_XL,5);
        u3.anima();
        Animacion u4 = new Animacion(eliminarTodo,129,50,-140,Animacion.ANIMA_XL,6);
        u4.anima();
    }
    private void menuL(){
        Animacion up= new Animacion(jPanel2,129,50,-175,Animacion.ANIMA_XL,2);
        up.anima();
    }
    private void agregarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_agregarActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_agregarActionPerformed

    private void eliminarTodoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_eliminarTodoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_eliminarTodoActionPerformed

    private void contactosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_contactosActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_contactosActionPerformed
    
    private void barraBusquedaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_barraBusquedaMouseClicked
        if(barraBusqueda.getText().equals("Buscar")){
            barraBusqueda.setText("");
        }
        Runnable rb = new Runnable(){
            public void run(){
            while(barraBusqueda.isFocusOwner()){
            if(busca(barraBusqueda.getText()).size() != ml.getSize()){
                TreeSet<Contacto> arb = busca(barraBusqueda.getText());
                ml = new ModeloLista();
                jList1.setModel(ml);
                for(Object c:arb)
                    ml.addContacto((Contacto)c); 
            }
        }
            }
        };
        Thread th = new Thread(rb);
        th.start();
    }//GEN-LAST:event_barraBusquedaMouseClicked
    private void inicializaL(){
        menuL();            
        botonesL();
        contenedorL();
        dimensionaLabelsInformacion();
        jListL();
    }
    private void jList1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jList1MouseClicked
        if(ml.getSize()!=0 && jList1.getSelectedIndex() <= ml.getSize()){
            Contacto seleccion = ml.getContacto(jList1.getSelectedIndex());
            nombre.setText(seleccion.toString());
            casa.setText(seleccion.getCasa());
            correo.setText(seleccion.getCorreo());
            celular.setText(seleccion.getCelular());
            mueve=false;
            labelInformacionL();
            contenedorL();
            dimensionaLabelsInformacion();
            jListL();
            
        }
    }//GEN-LAST:event_jList1MouseClicked

    private void agregarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_agregarMouseClicked
        java.awt.EventQueue.invokeLater(() -> {
            new Agregar(arbol,this).setVisible(true);
        });
        
    }//GEN-LAST:event_agregarMouseClicked

    private void eliminarContactoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_eliminarContactoMouseClicked
        if(!arbol.isEmpty() && this.jList1.getSelectedIndex()!=-1){
            Contacto eliminado =(Contacto)ml.getElementAt(this.jList1.getSelectedIndex());
            int si=JOptionPane.showConfirmDialog(this, "Seguro que quiere borrar a "+eliminado.getNombre());
            if(si>=1)
                return;
        arbol.remove(eliminado);
            try {
                datos.escribe(arbol, "arbol");
            } catch (ClassNotFoundException ex) {
                Logger.getLogger(AgendaInterfaz.class.getName()).log(Level.SEVERE, null, ex);
            } catch (IOException ex) {
                Logger.getLogger(AgendaInterfaz.class.getName()).log(Level.SEVERE, null, ex);
            }
        actualizaLista();
            menuR();
            botonesR();
            colocaLabelsInformacion();
            labelInformacionR();
            dimensionaJList();
            dimensionMenu();
        }else{
            JOptionPane.showMessageDialog(this,"Seleccione el contacto a borrar");
        }
        
    }//GEN-LAST:event_eliminarContactoMouseClicked

    private void eliminarTodoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_eliminarTodoMouseClicked
        mueve=false;
        inicializaL();
        labelInformacionL();
        int opcion=JOptionPane.showConfirmDialog(this,"¬øSeguro que quiere borrar todo?");
        if(!arbol.isEmpty() && opcion==0){
        arbol.removeAll(arbol);
            try {
                datos.escribe(arbol, "arbol");
            } catch (ClassNotFoundException ex) {
                Logger.getLogger(AgendaInterfaz.class.getName()).log(Level.SEVERE, null, ex);
            } catch (IOException ex) {
                Logger.getLogger(AgendaInterfaz.class.getName()).log(Level.SEVERE, null, ex);
            }
        actualizaLista();
        }
    }//GEN-LAST:event_eliminarTodoMouseClicked

    private void editarContactoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_editarContactoMouseClicked
        if(jList1.getSelectedIndex()!=-1)
        java.awt.EventQueue.invokeLater(() -> {
            new Agregar(arbol,this,ml.getContacto(jList1.getSelectedIndex())).setVisible(true);
        });
        else 
            JOptionPane.showMessageDialog(this, "Seleccione el contacto a editar");
    }//GEN-LAST:event_editarContactoMouseClicked

    private void editarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_editarMouseClicked
        mueve=false;
        inicializaL();
        labelInformacionL();
        if(jList1.getSelectedIndex()!=-1)
        java.awt.EventQueue.invokeLater(() -> {
            new Agregar(arbol,this,ml.getContacto(jList1.getSelectedIndex())).setVisible(true);
        });
        else 
            JOptionPane.showMessageDialog(this, "Seleccione el contacto a editar");
    }//GEN-LAST:event_editarMouseClicked

    private void contactosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_contactosMouseClicked
        ml = new ModeloLista();
        jList1.setModel(ml);
        for(Object c:arbol)
            ml.addContacto((Contacto)c);
    }//GEN-LAST:event_contactosMouseClicked

    private void barraBusquedaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_barraBusquedaKeyTyped
    }//GEN-LAST:event_barraBusquedaKeyTyped

    private void barraBusquedaKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_barraBusquedaKeyPressed
    }//GEN-LAST:event_barraBusquedaKeyPressed
    private void actualizaBusqueda(){
        TreeSet<Contacto> arb = busca(barraBusqueda.getText());
        ml = new ModeloLista();
        jList1.setModel(ml);
        for(Object c:arb)
            ml.addContacto((Contacto)c);
    }
    private void botonBusquedaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonBusquedaMouseClicked
        actualizaBusqueda();
    }//GEN-LAST:event_botonBusquedaMouseClicked

    private void buscarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_buscarMouseClicked
        JDesktopPane jd = new JDesktopPane();
        JFrame fr = new JFrame();
        fr.setUndecorated(true);
        fr.setContentPane(jd);
        fr.setVisible(true);
        fr.setResizable(false);
        fr.setSize(310,120);
        fr.setLocationRelativeTo(null);
        String name=JOptionPane.showInternalInputDialog(jd, "Introduzca el nombre de la persona:");        
        fr.dispose();
        if(name!=null){
        TreeSet<Contacto> arb = busca(name);
        ml = new ModeloLista();
        jList1.setModel(ml);
        for(Object c:arb)
            ml.addContacto((Contacto)c);
        }
    }//GEN-LAST:event_buscarMouseClicked

    private void jList1KeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jList1KeyTyped
        if(ml.getSize()!=0){
            Contacto seleccion = ml.getContacto(jList1.getSelectedIndex());
            nombre.setText(seleccion.toString());
            casa.setText(seleccion.getCasa());
            correo.setText(seleccion.getCorreo());
            celular.setText(seleccion.getCelular());
            mueve=false;
        }
    }//GEN-LAST:event_jList1KeyTyped

    private void botonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonMouseClicked
        if(!isOn){
            isOn=true;
            boton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/boton.png")));
            jPanel1.setBackground(new Color(102,0,255));
            barraBusqueda.setBackground(new Color(102,0,255));
            jList1.setBackground(Color.DARK_GRAY);
            jList1.setForeground(Color.lightGray);
            jPanel2.setBackground(new Color(15,16,38));
            panelCasa.setBackground(new Color(15,16,38));
            panelCelular.setBackground(new Color(15,16,38));
            panelNombre.setBackground(new Color(15,16,38));
            panelCorreo.setBackground(new Color(15,16,38));
            nombre.setForeground(Color.lightGray);
            casa.setForeground(Color.lightGray);
            celular.setForeground(Color.lightGray);
            correo.setForeground(Color.lightGray);
            contactos.setForeground(Color.lightGray);
            agregar.setForeground(Color.lightGray);
            buscar.setForeground(Color.lightGray);
            eliminarTodo.setForeground(Color.lightGray);
            editar.setForeground(Color.lightGray);
            jPanel6.setBackground(new Color(32,45,98));
            jPanel3.setBackground(new Color(32,45,98));
        }else{
            isOn=false;
            boton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagenes/boton1.png")));
            jPanel1.setBackground(new Color(6,175,191));
            barraBusqueda.setBackground(new Color(6,175,191));
            jList1.setBackground(Color.white);
            jList1.setForeground(Color.BLACK);
            jPanel2.setBackground(new Color(202,191,212));
            panelCasa.setBackground(new Color(88,205,170));
            panelCelular.setBackground(new Color(88,205,170));
            panelNombre.setBackground(new Color(88,205,170));
            panelCorreo.setBackground(new Color(88,205,170));
            nombre.setForeground(Color.BLACK);
            casa.setForeground(Color.BLACK);
            celular.setForeground(Color.BLACK);
            correo.setForeground(Color.BLACK);
            contactos.setForeground(Color.BLACK);
            agregar.setForeground(Color.BLACK);
            buscar.setForeground(Color.BLACK);
            eliminarTodo.setForeground(Color.BLACK);
            editar.setForeground(Color.BLACK);
            jPanel6.setBackground(Color.white);
            jPanel3.setBackground(Color.white);
        }
    }//GEN-LAST:event_botonMouseClicked

    private void barraBusquedaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_barraBusquedaFocusLost
        barraBusqueda.setText(barraBusqueda.getText());
    }//GEN-LAST:event_barraBusquedaFocusLost
    public TreeSet busca(String palabra){
        TreeSet<Contacto> a = new TreeSet<>();
	String n=palabra.toUpperCase();
        for(Contacto c: arbol){
            String[] split=c.getNombre().split(" ");
	    for(int i=0;i<split.length;i++){
                String s=split[i];
                if(s.length()>=palabra.length()){
                    s=s.substring(0,palabra.length());
                    if(s.equalsIgnoreCase(palabra))
                        a.add(c);
                }
            }
        }
        return a;
    }
    public void actualizaLista(){
        try {
            arbol = (TreeSet<Contacto>)datos.lee("arbol");
        } catch (ClassNotFoundException ex) {
            arbol = new TreeSet<>();
        } catch (IOException ex) {
            arbol = new TreeSet<>();
        }
        ml = new ModeloLista();
        jList1.setModel(ml);
        for(Object c:arbol)
            ml.addContacto((Contacto)c);
        this.nombre.setText("");
        this.celular.setText("");
        this.casa.setText("");
        this.correo.setText("");
    }
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(AgendaInterfaz.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(AgendaInterfaz.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(AgendaInterfaz.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AgendaInterfaz.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new AgendaInterfaz().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton agregar;
    private javax.swing.JTextField barraBusqueda;
    private javax.swing.JButton boton;
    private javax.swing.JButton botonBusqueda;
    private javax.swing.JButton buscar;
    private javax.swing.JLabel casa;
    private javax.swing.JLabel celular;
    private javax.swing.JButton contactos;
    private javax.swing.JLabel correo;
    private javax.swing.JButton editar;
    private javax.swing.JButton editarContacto;
    private javax.swing.JButton eliminarContacto;
    private javax.swing.JButton eliminarTodo;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JList<String> jList1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JLabel nombre;
    private javax.swing.JPanel panelCasa;
    private javax.swing.JPanel panelCelular;
    private javax.swing.JPanel panelCorreo;
    private javax.swing.JPanel panelNombre;
    private javax.swing.JButton slider;
    // End of variables declaration//GEN-END:variables
}
